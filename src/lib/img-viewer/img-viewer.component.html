<div
    *ngIf="transform$ | async as transform"
    class="w-full h-full flex justify-center items-center relative"
>
    <pinch-zoom
        *ngIf="usePinchZoom; else simpleImg"
        [transition-duration]="_config_.transitionDuration"
        [limit-zoom]="_config_.limitZoom"
        [minScale]="_config_.minScale"
        [auto-zoom-out]="_config_.autoZoomOut"
        [double-tap]="_config_.doubleTap"
        [disabled]="_config_.disabled"
        [disablePan]="_config_.disablePan"
        [overflow]="_config_.overflow"
        [disableZoomControl]="_config_.disableZoomControl"
        [zoomControlScale]="_config_.zoomControlScale"
        [backgroundColor]="_config_.backgroundColor"
        [limitPan]="_config_.limitPan"
        [minPanScale]="_config_.minPanScale"
        [listeners]="_config_.listeners"
        [wheel]="_config_.wheel"
        [wheelZoomFactor]="_config_.wheelZoomFactor"
        [autoHeight]="_config_.autoHeight"
        [draggableImage]="_config_.draggableImage"
        [initialTransform]="transform"
        class="h-full w-full"
        (transformChange)="sendTransform($event);"
    >
        <img
            [src]="url"
            draggable="false"
            class="max-h-full select-none"
        >
    </pinch-zoom>

    <ng-template #simpleImg>
        <img
            [src]="url"
            draggable="false"
            class="max-h-full select-none"
        >
    </ng-template>

    <button
        *ngIf="_config_.drawBackBtn"
        class="rounded-full absolute bottom-[2%] left-[2%]"
        (click)="backInner()"
    >
        <img
            [src]="_config_.backBtnIconPath" 
            alt="back" 
            class="img rotate-[-135deg]"
        >
    </button>
</div>
